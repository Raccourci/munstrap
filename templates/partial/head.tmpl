<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Munin <TMPL_LOOP NAME="PATH"><TMPL_IF NAME="pathname"> :: <TMPL_VAR ESCAPE="HTML" NAME="pathname"><TMPL_ELSE>Munin</TMPL_IF></TMPL_LOOP></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Auto-generated by Munin">
    <link rel="icon" type="image/png" href="<TMPL_VAR NAME="R_PATH">/static/img/favicon.png" />
    <link href="<TMPL_VAR NAME="R_PATH">/static/css/bootstrap.min.css" rel="stylesheet" />
    <link href="<TMPL_VAR NAME="R_PATH">/static/css/style-munstrap.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script type="text/javascript">
	var base;
	$(document).ready(function(){
		// console.log('pilou');
		bar = document.createElement('div');
		document.body.appendChild(bar);
		
		bar2 = document.createElement('div');
		document.body.appendChild(bar2);
		
		bar.style.height            = bar2.style.height            = "100%";
		bar.style.position          = bar2.style.position          = "absolute";
		bar.style.width             = bar2.style.width             = "1px";
		bar.style.backgroundColor   = bar2.style.backgroundColor   = "green";
		bar.style.top               = bar2.style.top               = 0;
		bar.style.position          = bar2.style.position          = "fixed";
		
		bar2.style = bar.style;
		
		var cookieResult = $.cookie('munin_base_offset');
		if(!isNaN(cookieResult) ){
			console.log("Fetched from cookie : ");
			base = parseInt(cookieResult);
			if(base >= 50000){
				base =0;
			}
		}else{
			console.log("Set by default : ");
			base = 50;
		}
		console.log(base);
		
		document.body.onkeydown = function (event) {
			console.log("plop");
			
			var keyCode = ('which' in event) ? event.which : event.keyCode;
			var shouldBubble = true;
			switch (keyCode) {
				case 75 : /*k*/
					base -= 1;
					shouldBubble = false;
					break;
				case 77 : /*m*/
					base += 10;
					shouldBubble = false;
					break;
				case 76 : /*l*/
					base += 1;
					shouldBubble = false;
					break;
				case 74 : /*j*/
					base -= 10;
					shouldBubble = false;
					break;
				default : /*init*/
					shouldBubble = true;
					break;
			}
			console.log({ 
				"keyCode" : keyCode,
				"base" : base
			});
			bar.style.left = base + "px";
			if (parseInt(bar.style.left.replace("px", "")) > 600) {
				bar2.style.left = (base - 350) + "px";
			} else {
				bar2.style.left = (base - 320) + "px";
			}
			$.cookie('munin_base_offset', base);
			if (!shouldBubble) {
				return false;
			}
		};
		
		$("body").keydown();
	
	});
	
	</script>
  </head>

  <body>
  <TMPL_INCLUDE NAME="navigation.tmpl">

	<div class="container">

    <TMPL_INCLUDE NAME="logo_navigation.tmpl">

